## Aseprite Scripts

<gh-repo-card name="Tsukina-7mochi/aseprite-scripts"></gh-repo-card>

<tech-tags>
Lua
</tech-tags>

ドット絵エディタ Aseprite の自分で開発したスクリプトをまとめたレポジトリです。
スプライトの PSD (Photoshop File Format) 出力や Windows 向けアイコン・カーソル出力、作品に効果を適用するフィルタなどがあります。
(GitHub 使い始めのよくわからないうちに作ったため MonoRepo になっています...)

PSD 出力スクリプトは Aseprite に PSD 入出力が欲しいというニーズは Aseprite ユーザーの間で一定数あり、知り合いや私自身も PSD 出力を使いたかったため作成しました。
ありがたいことに公式レポジトリやコミュニティなどで紹介してもらったりもしています。
Lua でのバイナリファイルの操作自体に難があったり、PSD ファイルの仕様の複雑さや情報が少ないことから開発には時間を要しました。
現在はアニメーション出力のために段階的に改修を進めており、PSD ファイルの解析がある程度済んだため実際に animated PSD を出力する機能を追加する段階です。
それ以前に当時のコードがかなり汚いため 2024 年 6 月現在リファクタリング中で、自作 Lua バンドラを用いたリファクタリングなどを進めています。

Windows のアイコン・カーソルを出力するスクリプトでは ICO, CUR, ANI 形式でアイコン・カーソル・アニメーションカーソルの出力ができます。
作成したマウスカーソルを頒布するときに別のソフトを通すのが面倒だったため作成しました。
Aseprite は CLI で動作することもできるため CLI からスクリプトを呼び出すと自動的に Aseprite ファイルからカーソルなどを出力できます。
ICO や CUR は BMP とほとんど同じファイル構造をしているため実装は容易で、ANI も RIFF のなかに ICO/CUR が乗っているだけなのでサクッと実装できました。

