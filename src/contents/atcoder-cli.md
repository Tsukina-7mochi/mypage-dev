## AtCoder CLI

<gh-repo-card name="Tsukina-7mochi/atcoder-cli"></gh-repo-card>

<!-- 使った言語・技術 -->
<tech-tags>
Rust, clap, serde, scraper, ureq
</tech-tags>

<!-- 概要 -->
AtCoder の問題提出・ワークスペース初期化のための CLI アプリケーションです。
ヘッドレスブラウザを使用せず ureq パッケージを使った HTTP リクエストで動作しているため非常に高速で、キャッシュ操作によりログイン情報を扱っています。
余談ですが CLI を作成するのに満足して AtCoder 自体をしていないため機能改善の余地はたくさんあると思います。

<!-- 作った理由 -->
既存の CLI アプリケーションもありますがそれ自体が別のアプリケーションに依存していること、そのアプリケーションがヘッドレスブラウザを使っているために動作が遅いことが気に入らなかったため作成しました。
Rust で作った理由は Rust でアプリを書く練習をしたかったためです。

<!-- 評価・予定 -->
Rust でちゃんとしたアプリケーションを書くのはこれが初めてでしたが、得られた知見がいくつかありました。
Rust でプログラムを書く場合は自然ときれいな設計になる (きれいな設計にしないと書くのがつらい) のですが、アプリの構造の設計にだいぶ頭を悩ませる事になりました。
特に CLI とビジネスロジックを分けるかどうかも大きな問題で、公式チュートリアルの grep は分けていましたが今回は最終的に分けるのをやめることになりました。
これは CLI での操作自体がビジネスロジックであるため、不可分であるという判断からです。
また、最初からパフォーマンスを考えたら負けだということを痛感しました。
Rust の所有権・ライフタイムシステムが複雑というよりかはソフトウェアの設計がそもそも複雑で、本来はこのレベルのことを人間が手動で管理しないといけないと考えるとパフォーマンスを犠牲にして簡潔性得るのが妥当に思えます。
